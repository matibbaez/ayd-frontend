<div style="max-width: 800px; margin: 40px auto; font-family: sans-serif;">

  <h1>ğŸ›ï¸ Panel de Control - Estudio JurÃ­dico</h1>

  <div style="background: #f9f9f9; padding: 20px; border-radius: 8px; margin-bottom: 30px; border: 1px solid #ccc;">
    <h2>â• Nuevo Cliente</h2>
    
    <form [formGroup]="clienteForm" (ngSubmit)="guardarCliente()">
      
      <div style="margin-bottom: 10px;">
        <label>Nombre Completo:</label><br>
        <input type="text" formControlName="nombre_completo" style="width: 100%; padding: 8px;">
      </div>

      <div style="margin-bottom: 10px;">
        <label>Email:</label><br>
        <input type="email" formControlName="email" style="width: 100%; padding: 8px;">
      </div>

      <div style="display: flex; gap: 10px; margin-bottom: 10px;">
        <div style="flex: 1;">
          <label>TelÃ©fono:</label><br>
          <input type="text" formControlName="telefono" style="width: 100%; padding: 8px;">
        </div>
        <div style="flex: 1;">
          <label>DNI / CUIT:</label><br>
          <input type="text" formControlName="dni_cuit" style="width: 100%; padding: 8px;">
        </div>
      </div>

      <button type="submit" 
          [disabled]="cargando"
          [style.background]="cargando ? '#ccc' : '#28a745'" 
          style="color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; font-size: 16px;">
        {{ cargando ? 'â³ Guardando...' : 'ğŸ’¾ Guardar Cliente' }}
      </button>

    </form>
  </div>


  <div style="background: #e3f2fd; padding: 20px; border-radius: 8px; margin-bottom: 30px; border: 1px solid #90caf9;">
    <h2>âš–ï¸ Nuevo Expediente</h2>
    
    <form [formGroup]="causaForm" (ngSubmit)="guardarCausa()">
      
      <div style="margin-bottom: 10px;">
        <label>Asignar al Cliente:</label><br>
        <select formControlName="cliente_id" style="width: 100%; padding: 8px;">
          <option value="" disabled selected>-- ElegÃ­ un cliente --</option>
          
          <option *ngFor="let cliente of clientes" [value]="cliente.id">
            {{ cliente.nombre_completo }} (DNI: {{ cliente.dni_cuit || 'S/D' }})
          </option>
        
        </select>
      </div>

      <div style="margin-bottom: 10px;">
        <label>CarÃ¡tula (Ej: GOMEZ c/ PEREZ):</label><br>
        <input type="text" formControlName="caratula" style="width: 100%; padding: 8px;">
      </div>

      <div style="display: flex; gap: 10px; margin-bottom: 10px;">
        <div style="flex: 1;">
          <label>Nro. Expediente:</label><br>
          <input type="text" formControlName="nro_expediente" style="width: 100%; padding: 8px;">
        </div>
        <div style="flex: 1;">
          <label>Juzgado:</label><br>
          <input type="text" formControlName="juzgado" style="width: 100%; padding: 8px;">
        </div>
      </div>

      <button type="submit" 
              [disabled]="cargando"
              [style.background]="cargando ? '#ccc' : '#007bff'"
              style="color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; font-size: 16px;">
        {{ cargando ? 'â³ Creando...' : 'âš–ï¸ Crear Expediente' }}
      </button>

    </form>
  </div>

  <hr>

  <h2>ğŸ“„ Expedientes Cargados</h2>

  <p *ngIf="causas.length === 0" style="color: #666; font-style: italic;">
    No hay expedientes cargados todavÃ­a.
  </p>

  <table *ngIf="causas.length > 0" style="width: 100%; text-align: left; border-collapse: collapse; margin-top: 20px;">
    <thead>
      <tr style="background-color: #f4f4f4; border-bottom: 2px solid #ddd;">
        <th style="padding: 10px;">CarÃ¡tula</th>
        <th style="padding: 10px;">Cliente</th>
        <th style="padding: 10px;">Juzgado</th>
        <th style="padding: 10px;">Estado</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let causa of causas" style="border-bottom: 1px solid #eee;">
        <td style="padding: 10px; font-weight: bold;">{{ causa.caratula }}</td>
        
        <td style="padding: 10px; color: #007bff;">
          ğŸ‘¤ {{ causa.cliente?.nombre_completo || 'Sin Asignar' }}
        </td>
        
        <td style="padding: 10px;">{{ causa.juzgado }}</td>
        
        <td style="padding: 10px;">
          <span style="background: #e1f5fe; color: #0288d1; padding: 4px 8px; border-radius: 4px; font-size: 0.8em;">
            {{ causa.estado }}
          </span>
        </td>
      </tr>
    </tbody>
  </table>

</div>